<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>N·∫°p th·∫ª - Shop Roblox VN</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <script src="https://code.iconify.design/iconify-icon/1.0.7/iconify-icon.min.js"></script>
    <link rel="stylesheet" href="./header/header.css" /> 
    <script src="https://cdn.socket.io/4.7.2/socket.io.min.js"></script>


    <style>

.spacer-200 {
  /* Chi·ªÅu cao 200 pixels */
  height: 50px; 
  /* ƒê√¥i khi d√πng "min-height" ƒë·ªÉ ƒë·∫£m b·∫£o kho·∫£ng tr·ªëng kh√¥ng b·ªã m·∫•t */
  min-height: 50px;
}


        .text-primary { color: #FF4747; } /* M√†u ƒë·ªè ch·ªß ƒë·∫°o */
        .bg-primary { background-color: #FF4747; }
        .hover\:bg-primary-dark:hover { background-color: #E03E3E; }
        .network-button.selected { border-color: #FF4747; background-color: #FFF5F5; }
        .denom-button.selected { border-color: #FF4747; background-color: #FFF5F5; }
        /* Style cho menu dropdown */
        .dropdown-menu {
            right: 0;
            top: 100%;
            z-index: 50;
        }
    </style>
    <style>
  #floatingBell {
    position: fixed;
    bottom: 20px;
    right: 20px;
    width: 60px;
    height: 60px;
    background-color: #FFD700;
    color: white;
    border-radius: 50%;
    font-size: 28px;
    text-align: center;
    line-height: 60px;
    cursor: grab;
    z-index: 9999;
    box-shadow: 0 4px 10px rgba(0,0,0,0.3);
    transition: transform 0.2s ease;
    user-select: none;
    touch-action: none;
  }

  #floatingBell:hover {
    transform: scale(1.1);
  }

  .notification-dot {
    position: absolute;
    top: 8px;
    right: 8px;
    background: red;
    width: 14px;
    height: 14px;
    border-radius: 50%;
    display: none;
  }

  /* Hi·ªáu ·ª©ng rung chu√¥ng */
  @keyframes ring {
    0% { transform: rotate(0); }
    10% { transform: rotate(15deg); }
    20% { transform: rotate(-10deg); }
    30% { transform: rotate(8deg); }
    40% { transform: rotate(-6deg); }
    50% { transform: rotate(4deg); }
    60%,100% { transform: rotate(0); }
  }
  .ringing {
    animation: ring 1s ease-in-out;
  }

  
</style>



    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'primary': '#FF4747',
                        'primary-dark': '#E03E3E',
                    }
                }
            }
        }
</script>
</head>
<body>


<div class="spacer-200"></div>

<div id="floatingBell" title="Th√¥ng b√°o">
  üîî
  <div class="notification-dot" id="notifyDot"></div>
</div>

      <!-- Header -->
  <div id="header-container"></div>
  <script src="./header/header.js"></script>





    <main class="max-w-4xl mx-auto p-4">
        <div class="bg-white p-6 rounded-lg shadow-xl">
            <h2 class="text-xl font-bold mb-4">N·∫°p th·∫ª t·ª± ƒë·ªông 24/7</h2>
            
            <div class="mb-6 p-4 bg-red-50 border-l-4 border-red-400 text-red-700 text-sm">
                <p class="font-bold mb-1">L∆∞u √Ω:</p>
                <ul class="list-disc list-inside space-y-1">
                    <li>C√≥ th·ªÉ s·ª≠ d·ª•ng Vinaphone, Mobifone, Viettel, Zing, Garena. Hi·ªán t·∫°i ch√∫ng t√¥i ch∆∞a m·ªü kh√≥a t√≠nh nƒÉng n·∫°p ti·ªÅn qua Ng√¢n h√†ng.</li>
                    <li>N·∫°p th·∫ª sai li√™n ti·∫øp 3 l·∫ßn s·∫Ω b·ªã kh√≥a t√†i kho·∫£n.</li>
                    <li>Vui l√≤ng n·∫°p ƒë√∫ng seri, m√£ th·∫ª, m·ªánh gi√°, nh√† m·∫°ng c·ªßa th·∫ª c√†o. H·ªó tr·ª£ th·∫ª c√†o t·∫°i Li√™n h·ªá h·ªó tr·ª£ b√™n d∆∞·ªõi c√πng c·ªßa trang </li>
                    <li>H·ªá th·ªëng x·ª≠ l√Ω th·∫ª c√†o th·ªß c√¥ng 24/7 th·∫ª c√†o s·∫Ω ƒë∆∞·ª£c x·ª≠ l√≠ ngay v√† c√≥ k·∫øt qu·∫£ ƒë√∫ng nh·∫•t.</li>
                    <li><span class="font-bold">Ch√∫ √Ω: Sai qu√° 3 l·∫ßn m·∫•t th·∫ª !</span> vui l√≤ng ghi ƒë√∫ng seri, m√£, m·ªánh gi√°, nh√† m·∫°ng n·∫±m tr√™n th·∫ª c√†o. </li>
                </ul>
            </div>

            <form id="recharge-form" class="space-y-6">
                
                <div>
                    <label class="block text-gray-700 font-semibold mb-2">Nh√† m·∫°ng (∆∞u ti√™n zing, garena)</label>
                    <div id="network-options" class="grid grid-cols-3 sm:grid-cols-5 gap-3">
                        <button type="button" data-network="zing" class="network-button p-3 border-2 border-gray-300 rounded-lg text-center font-medium transition hover:border-primary">Th·∫ª Zing</button>
                        <button type="button" data-network="garena" class="network-button p-3 border-2 border-gray-300 rounded-lg text-center font-medium transition hover:border-primary">Th·∫ª Garena</button>
                        <button type="button" data-network="viettel" class="network-button p-3 border-2 border-gray-300 rounded-lg text-center font-medium transition hover:border-primary">Th·∫ª Viettel</button>
                        <button type="button" data-network="mobifone" class="network-button p-3 border-2 border-gray-300 rounded-lg text-center font-medium transition hover:border-primary">Th·∫ª Mobifone</button>
                        <button type="button" data-network="vinaphone" class="network-button p-3 border-2 border-gray-300 rounded-lg text-center font-medium transition hover:border-primary">Th·∫ª Vinaphone</button>
                    </div>
                    <input type="hidden" id="network_provider" name="network_provider" required>
                </div>

                <div>
                    <label class="block text-gray-700 font-semibold mb-2">M·ªánh gi√° (Vui l√≤ng ch·ªçn ƒë√∫ng)</label>
                    
                    <input type="text" id="denomination_display" placeholder="Ch·ªçn m·ªánh gi√°. Sai m·∫•t th·∫ª!" required 
                        class="w-full p-3 border border-gray-300 rounded-lg focus:ring-primary focus:border-primary transition mb-4 font-bold text-center text-lg" readonly>
                    <input type="hidden" id="denomination" name="denomination" required> 
                    <div id="denomination-options" class="grid grid-cols-4 sm:grid-cols-8 gap-3">
                        <button type="button" data-denomination="10000" data-display="10.000ƒë" class="denom-button p-3 border-2 border-gray-300 rounded-lg text-center font-medium transition hover:border-primary">10.000ƒë</button>
                        <button type="button" data-denomination="20000" data-display="20.000ƒë" class="denom-button p-3 border-2 border-gray-300 rounded-lg text-center font-medium transition hover:border-primary">20.000ƒë</button>
                        <button type="button" data-denomination="30000" data-display="30.000ƒë" class="denom-button p-3 border-2 border-gray-300 rounded-lg text-center font-medium transition hover:border-primary">30.000ƒë</button>
                        <button type="button" data-denomination="50000" data-display="50.000ƒë" class="denom-button p-3 border-2 border-gray-300 rounded-lg text-center font-medium transition hover:border-primary">50.000ƒë</button>
                        <button type="button" data-denomination="100000" data-display="100.000ƒë" class="denom-button p-3 border-2 border-gray-300 rounded-lg text-center font-medium transition hover:border-primary">100.000ƒë</button>
                        <button type="button" data-denomination="200000" data-display="200.000ƒë" class="denom-button p-3 border-2 border-gray-300 rounded-lg text-center font-medium transition hover:border-primary">200.000ƒë</button>
                        <button type="button" data-denomination="500000" data-display="500.000ƒë" class="denom-button p-3 border-2 border-gray-300 rounded-lg text-center font-medium transition hover:border-primary">500.000ƒë</button>
                        <button type="button" data-denomination="1000000" data-display="1.000.000ƒë" class="denom-button p-3 border-2 border-gray-300 rounded-lg text-center font-medium transition hover:border-primary">1.000.000ƒë</button>
                    </div>
                </div>

                <div class="grid grid-cols-1 sm:grid-cols-2 gap-6">
                    <div>
                        <label for="card_serial" class="block text-gray-700 font-semibold mb-2">Seri</label>
                        <input type="text" id="card_serial" name="card_serial" placeholder="Nh·∫≠p s·ªë seri th·∫ª" required class="w-full p-3 border border-gray-300 rounded-lg focus:ring-primary focus:border-primary transition">
                    </div>
                    <div>
                        <label for="card_code" class="block text-gray-700 font-semibold mb-2">M√£ th·∫ª</label>
                        <input type="text" id="card_code" name="card_code" placeholder="Nh·∫≠p m√£ th·∫ª (card code)" required class="w-full p-3 border border-gray-300 rounded-lg focus:ring-primary focus:border-primary transition">
                    </div>
                </div>

                <button type="submit" id="recharge-submit-btn" class="w-full py-3 bg-primary hover:bg-primary-dark text-white font-bold text-lg rounded-lg transition duration-200">
                    N·∫°p Th·∫ª
                </button>
            </form>
            
            <div id="message-area" class="mt-4 p-3 rounded-lg hidden"></div>
        </div>
    </main>



<div id="contact-footer"></div>


<script>



let selectedNetwork = null;
let selectedDenomination = null;



// Hi·ªÉn th·ªã th√¥ng b√°o
function showMessage(type, message) {
    const msgArea = document.getElementById('message-area');
    msgArea.classList.remove('hidden', 'bg-red-100', 'bg-green-100', 'text-red-700', 'text-green-700');
    if (type === 'error') msgArea.classList.add('bg-red-100', 'text-red-700');
    else if (type === 'success') msgArea.classList.add('bg-green-100', 'text-green-700');
    msgArea.textContent = message;
}

// --- Ch·ªçn nh√† m·∫°ng ---
document.getElementById('network-options')?.addEventListener('click', (e) => {
    if (e.target.classList.contains('network-button')) {
        document.querySelectorAll('.network-button').forEach(btn => btn.classList.remove('selected'));
        e.target.classList.add('selected');
        selectedNetwork = e.target.dataset.network;
        document.getElementById('network_provider').value = selectedNetwork;
    }
});

// --- Ch·ªçn m·ªánh gi√° ---
document.getElementById('denomination-options')?.addEventListener('click', (e) => {
    if (e.target.classList.contains('denom-button')) {
        document.querySelectorAll('.denom-button').forEach(btn => btn.classList.remove('selected'));
        e.target.classList.add('selected');
        selectedDenomination = e.target.dataset.denomination;
        document.getElementById('denomination').value = selectedDenomination;
        document.getElementById('denomination_display').value = e.target.dataset.display;
    }
});

// --- X·ª≠ l√Ω form n·∫°p th·∫ª ---
document.getElementById('recharge-form')?.addEventListener('submit', async (e) => {
    e.preventDefault();

    const user = sessionStorage.getItem('userData');
    if (!user) {
        showMessage('error', 'Vui l√≤ng ƒëƒÉng nh·∫≠p ƒë·ªÉ n·∫°p th·∫ª.');
        return;
    }

    if (!selectedNetwork || !selectedDenomination) {
        showMessage('error', 'Vui l√≤ng ch·ªçn Nh√† m·∫°ng v√† M·ªánh gi√°.');
        return;
    }

    const card_serial = document.getElementById('card_serial').value.trim();
    const card_code = document.getElementById('card_code').value.trim();
    if (!card_serial || !card_code) {
        showMessage('error', 'Vui l√≤ng nh·∫≠p Seri v√† M√£ th·∫ª.');
        return;
    }

    const submitBtn = document.getElementById('recharge-submit-btn');
    submitBtn.textContent = 'ƒêang x·ª≠ l√Ω...';
    submitBtn.disabled = true;

    try {
        const res = await fetch(`${API_BASE}/recharge`, {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json',
                'Authorization': `Bearer ${localStorage.getItem("token")}`
            },
            body: JSON.stringify({
                network_provider: selectedNetwork,
                denomination: selectedDenomination,
                card_serial,
                card_code,
                note: `N·∫°p th·∫ª c√†o ${selectedNetwork} m·ªánh gi√° ${selectedDenomination}`
            })
        });

        const data = await res.json();

        if (data.success) {
            showMessage('success', data.message || 'Th·∫ª c√†o ƒë√£ ƒë∆∞·ª£c g·ª≠i, ƒëang ch·ªù x·ª≠ l√Ω!');
            document.getElementById('recharge-form').reset();
            document.querySelectorAll('.network-button.selected, .denom-button.selected').forEach(btn => btn.classList.remove('selected'));
            updateHeaderBalance(data.newBalance || JSON.parse(user).balance); // l·∫•y d·ªØ li·ªáu t·ª´ header.js

        } else {
            showMessage('error', data.message || 'Th·∫ª ƒë√£ ƒë∆∞·ª£c s·ª≠ d·ª•ng ho·∫∑c c√≥ l·ªói trong qu√° tr√¨nh n·∫°p th·∫ª.');
        }
    } catch (error) {
        console.error('L·ªói n·∫°p th·∫ª:', error);
        showMessage('error', 'L·ªói k·∫øt n·ªëi ƒë·∫øn m√°y ch·ªß. Vui l√≤ng th·ª≠ l·∫°i.');
    } finally {
        submitBtn.textContent = 'N·∫°p Th·∫ª';
        submitBtn.disabled = false;
    }
});



</script>
<script src="thong-bao.js"></script>
<script>
  // T·∫£i v√† ch√®n footer li√™n h·ªá
  fetch("Lien-he.html")
    .then(res => res.text())
    .then(html => {
      document.getElementById("contact-footer").innerHTML = html;
    })
    .catch(err => console.error("L·ªói khi t·∫£i footer:", err));
</script>

<script>
(function(){
  // WHITELIST: n·∫øu user l√† admin (b·∫°n thay b·∫±ng check th·∫≠t), b·ªè qua
  const isAdmin = !!window.__IS_ADMIN__; // set ·ªü server-render n·∫øu c·∫ßn
  if(isAdmin) return;

  // overlay nh·∫π nh√†ng
  function showNotice(reason) {
    if(document.getElementById('__devtools_notice')) return;
    const d = document.createElement('div');
    d.id = '__devtools_notice';
    d.style.cssText = [
      'position:fixed','left:12px','bottom:12px','z-index:2147483647',
      'background:rgba(0,0,0,0.8)','color:#fff','padding:10px 14px',
      'border-radius:8px','font-family:Arial,Helvetica,sans-serif','font-size:13px'
    ].join(';');
    d.innerHTML = `<strong>C·∫£nh b√°o b·∫£o m·∫≠t</strong><div style="margin-top:6px">Vi·ªác m·ªü DevTools/Inspector ƒë∆∞·ª£c ph√°t hi·ªán (${reason}). N·∫øu b·∫°n kh√¥ng ph·∫£i l√† developer, xin ƒë√≥ng DevTools ƒë·ªÉ ti·∫øp t·ª•c.</div>`;
    document.body.appendChild(d);
    setTimeout(()=> { d.remove && d.remove(); }, 8000);
  }

  // ch·∫∑n context menu? (b·∫≠t/t·∫Øt t√πy trang)
  // document.addEventListener('contextmenu', e => e.preventDefault());

  // ch·∫∑n ph√≠m t·∫Øt
  document.addEventListener('keydown', (e) => {
    const key = e.key?.toLowerCase();
    if (e.key === 'F12' ||
        (e.ctrlKey && e.shiftKey && (key === 'i' || key === 'j' || key === 'c')) ||
        (e.ctrlKey && key === 'u')) {
      e.preventDefault();
      showNotice('ph√≠m t·∫Øt');
    }
  });

  // detect b·∫±ng resize (rƒÉn ƒëe)
  let lastOpen = false;
  const detectResize = () => {
    const open = (window.outerWidth - window.innerWidth > 160) || (window.outerHeight - window.innerHeight > 160);
    if(open && !lastOpen) showNotice('panel m·ªü');
    lastOpen = open;
  };
  window.addEventListener('resize', detectResize);
  setInterval(detectResize, 1000);
})();
</script>

</body>
</html>